# Local Development Setup and Usage Guide
# For Full Web App Functionality with MySQL Database

## Prerequisites
- Node.js (v18 or higher)
- MySQL server running locally (port 3306)
- Database setup: Run `node setup-db.js` in Backend directory to create 'ulasis_dev' database and 'ulasis_user'

## Step 1: Database Setup
1. Ensure MySQL is running
2. Open terminal in Backend directory: `cd Backend`
3. Run setup script: `node setup-db.js`
4. Run migrations: `npm run migrate`

## Step 2: Start Backend
1. In Backend directory: `cd Backend`
2. Install dependencies (if needed): `npm install`
3. Start server: `start /b npm start` (Windows - runs in background) or `npm run dev` (development with nodemon)
4. Verify: Server runs on http://localhost:3005
5. If port conflict occurs, kill existing process: `taskkill /PID <PID> /F` then restart

## Step 3: Start Frontend
1. Open new terminal in Frontend directory: `cd Frontend`
2. Install dependencies (if needed): `npm install`
3. Start dev server: `npm run dev`
4. Verify: App accessible at http://localhost:3001 (Vite dev server)

## Test Accounts
Multiple test accounts have been created for different subscription plans:
- free@ulasis.com (Free Plan) - Password: Test123!
- starter@ulasis.com (Starter Plan) - Password: Test123!
- business@ulasis.com (Business Plan) - Password: Test123!
- admin@ulasis.com (Admin User) - Password: Admin123!

## Usage
- Full app functionality available with MySQL database persistence
- All features: auth, questionnaires, QR codes, analytics, responses
- Data persists across sessions
- Demo mode available for testing

## Current Status
✅ Backend: Running on http://localhost:3005
✅ Frontend: Running on http://localhost:3001
✅ Database: MySQL 'ulasis_dev' with all tables and test data
✅ Health Check: http://localhost:3005/api/v1/health
✅ CORS: Configured for frontend on port 3001
✅ Authentication: Working with test accounts
✅ Memory: Increased Node.js heap size to 512MB to prevent high memory usage warnings

## Troubleshooting
- Ensure MySQL is running and database/user exist (run setup-db.js if needed)
- Check ports 3005/3001 are free (kill any existing processes if necessary)
- Verify Backend/.env CORS_ORIGIN matches frontend port (currently set to http://localhost:3001)
- If frontend runs on different port, update CORS_ORIGIN in Backend/.env and restart backend
- Backend uses nodemon in dev mode, so .env changes trigger auto-restart
- If database issues occur, drop and recreate: run setup-db.js then npm run migrate
- If high memory usage occurs, the server is configured with 512MB heap limit